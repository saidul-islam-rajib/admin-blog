<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
          <h5 class="mb-0"><i class="cil-school"></i> Education Details</h5>
        </div>
        <div class="card-body">
          <form [formGroup]="educationForm" (ngSubmit)="onSubmit()">
            <!-- Institute Name -->
            <div class="mb-3">
              <label for="instituteName" class="form-label">Institute Name</label>
              <input id="instituteName" formControlName="instituteName" class="form-control" required />
            </div>

            <!-- Institute Logo (File Upload & Drag-Drop) -->
            <div class="mb-3">
              <label class="form-label">Institute Logo</label>
              <div
                ngxFileDrop
                (onFileDrop)="dropped($event)"
                [dropZoneLabel]="'Drag and drop an image here'"
                class="drop-zone"
              >
                <p>Drag & Drop or Click to Upload</p>
              </div>
              <input type="file" (change)="onFileSelected($event)" accept="image/*" class="form-control" />
              <div *ngIf="instituteLogoPreview" class="mt-2">
                <img [src]="instituteLogoPreview" alt="Institute Logo" class="img-fluid" width="100" />
              </div>
            </div>

            <!-- Department -->
            <div class="mb-3">
              <label for="department" class="form-label">Department</label>
              <input id="department" formControlName="department" class="form-control" />
            </div>

            <!-- Currently Studying Here -->
            <div class="form-check form-switch mb-3">
              <input id="isCurrentStudent" type="checkbox" class="form-check-input" formControlName="isCurrentStudent" />
              <label for="isCurrentStudent" class="form-check-label">Currently Studying Here</label>
            </div>

            <div class="row">
              <!-- Start Date -->
              <div class="col-md-6 mb-3">
                <label for="startDate" class="form-label">Start Date</label>
                <input id="startDate" type="date" formControlName="startDate" class="form-control" />
              </div>

              <!-- End Date -->
              <div class="col-md-6 mb-3">
                <label for="endDate" class="form-label">End Date</label>
                <input id="endDate" type="date" formControlName="endDate" class="form-control"
                  [disabled]="educationForm.get('isCurrentStudent')?.value" />
              </div>
            </div>

            <!-- Education Sections -->
            <div class="mb-3">
              <label class="form-label">Education Sections</label>
              <div formArrayName="educationSection">
                <div *ngFor="let section of educationSection.controls; let i = index" [formGroupName]="i"
                  class="border p-3 rounded mb-2">
                  <input id="sectionDescripton-{{ i }}" formControlName="sectionDescripton" class="form-control mb-2"
                    placeholder="Enter Section Description" />
                  <button type="button" (click)="removeSection(i)" class="btn btn-danger btn-sm">
                    Remove
                  </button>
                </div>
                <button type="button" (click)="addSection()" class="btn btn-secondary btn-sm">
                  Add Section
                </button>
              </div>
            </div>

            <!-- Submit Button -->
            <button type="submit" [disabled]="educationForm.invalid" class="btn btn-primary w-100">
              Submit
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
