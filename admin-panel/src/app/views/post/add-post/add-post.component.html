<form [formGroup]="educationForm" (ngSubmit)="onSubmit()" class="container mt-4">
  <!-- Institute Name -->
  <div class="mb-3">
    <label for="instituteName" class="form-label">Institute Name</label>
    <input
      type="text"
      class="form-control"
      id="instituteName"
      formControlName="instituteName"
      [ngClass]="{ 'is-invalid': educationForm.get('instituteName')?.touched && educationForm.get('instituteName')?.touched }"
    />
    <div *ngIf="educationForm.get('instituteName')?.touched && educationForm.get('instituteName')?.touched" class="invalid-feedback">
      Institute Name is required.
    </div>
  </div>

  <!-- Institute Logo -->
  <div class="mb-3">
    <label for="instituteLogo" class="form-label">Institute Logo URL</label>
    <input
      type="text"
      class="form-control"
      id="instituteLogo"
      formControlName="instituteLogo"
      [ngClass]="{ 'is-invalid': educationForm.get('instituteLogo')?.touched && educationForm.get('instituteLogo')?.touched }"
    />
    <div *ngIf="educationForm.get('instituteLogo')?.touched && educationForm.get('instituteLogo')?.touched" class="invalid-feedback">
      Institute Logo URL is required.
    </div>
  </div>

  <!-- Department -->
  <div class="mb-3">
    <label for="department" class="form-label">Department</label>
    <input
      type="text"
      class="form-control"
      id="department"
      formControlName="department"
      [ngClass]="{ 'is-invalid': educationForm.get('department')?.touched && educationForm.get('department')?.touched }"
    />
    <div *ngIf="educationForm.get('department')?.touched && educationForm.get('department')?.touched" class="invalid-feedback">
      Department is required.
    </div>
  </div>

  <!-- Is Current Student -->
  <div class="mb-3 form-check">
    <input
      type="checkbox"
      class="form-check-input"
      id="isCurrentStudent"
      formControlName="isCurrentStudent"
    />
    <label class="form-check-label" for="isCurrentStudent">Currently Enrolled</label>
  </div>

  <!-- Start Date -->
  <div class="mb-3">
    <label for="startDate" class="form-label">Start Date</label>
    <input
      type="date"
      class="form-control"
      id="startDate"
      formControlName="startDate"
      [ngClass]="{ 'is-invalid': educationForm.get('startDate')?.invalid && educationForm.get('startDate')?.touched }"
    />
    <div *ngIf="educationForm.get('startDate')?.invalid && educationForm.get('startDate')?.touched" class="invalid-feedback">
      Start Date is required.
    </div>
  </div>

  <!-- End Date -->
  <div class="mb-3">
    <label for="endDate" class="form-label">End Date</label>
    <input
      type="date"
      class="form-control"
      id="endDate"
      formControlName="endDate"
      [ngClass]="{ 'is-invalid': educationForm.get('endDate')?.invalid && educationForm.get('endDate')?.touched }"
    />
    <div *ngIf="educationForm.get('endDate')?.invalid && educationForm.get('endDate')?.touched" class="invalid-feedback">
      End Date is required.
    </div>
  </div>

  <!-- Education Sections -->
  <div formArrayName="educationSections">
    <div *ngFor="let section of educationSections.controls; let i = index" [formGroupName]="i" class="mb-3">
      <label [for]="'sectionDescription' + i" class="form-label">Section Description</label>
      <input
        type="text"
        class="form-control"
        [id]="'sectionDescription' + i"
        formControlName="sectionDescription"
        [ngClass]="{ 'is-invalid': section.get('sectionDescription')?.invalid && section.get('sectionDescription')?.touched }"
      />
      <div *ngIf="section.get('sectionDescription')?.invalid && section.get('sectionDescription')?.touched" class="invalid-feedback">
        Section Description is required.
      </div>
      <button type="button" class="btn btn-danger btn-sm mt-2" (click)="removeEducationSection(i)" *ngIf="educationSections.length > 1">
        Remove Section
      </button>
    </div>
  </div>

  <!-- Add Section Button -->
  <button type="button" class="btn btn-secondary mb-3" (click)="addEducationSection()">
    Add Section
  </button>

  <!-- Submit Button -->
  <button type="submit" class="btn btn-primary" [disabled]="educationForm.invalid">
    Submit
  </button>
</form>
